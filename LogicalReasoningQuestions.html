<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Problem Solving Test</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<style>
body{background:#000;color:#fff;font-family:Segoe UI;padding:30px}
.card{background:#141414;padding:20px;margin-bottom:15px;border-radius:10px}
button{padding:10px 15px;background:#00bfff;border:none;color:#fff;border-radius:5px}
</style>
</head>
<body>

<h1>ðŸ§  Logical Reasoning Test</h1>
<input type="text" id="name" placeholder="Student Name">
<button onclick="loadQuestions()">Start Test</button>

<div id="questions"></div>
<button id="submitBtn" style="display:none;" onclick="submitTest()">Submit</button>

<h2 id="result"></h2>

<script>
const supabase1 = supabase.createClient(
    'https://yqfhvvjsybbjwldjsjga.supabase.co',
    'sb_publishable_hK0s7eE3P1ILoADp-VQ7JQ_FVE5_ixT'
);

let questions=[];

async function loadQuestions(){
 const { data } = await supabase1
   .from('logicalreasoningquestions')
   .select('*');

 questions = data;
 render();
 document.getElementById("submitBtn").style.display="block";
}

function render(){
 let html="";
 questions.forEach((q,i)=>{
   html+=`
   <div class="card">
   <p><b>Q${i+1}:</b> ${q.question}</p>
   <label><input type="radio" name="q${i}" value="Option1"> ${q.option1}</label><br>
   <label><input type="radio" name="q${i}" value="Option2"> ${q.option2}</label><br>
   <label><input type="radio" name="q${i}" value="Option3"> ${q.option3}</label><br>
   <label><input type="radio" name="q${i}" value="Option4"> ${q.option4}</label>
   </div>`;
 });
 document.getElementById("questions").innerHTML=html;
}

function submitTest(){
 let correct=0;
 questions.forEach((q,i)=>{
   const selected=document.querySelector(`input[name="q${i}"]:checked`);
   if(selected && selected.value===q.correctoption) correct++;
 });
 document.getElementById("result").innerText=
 `Score: ${correct}/${questions.length}`;
}
</script>

</body>
</html>
